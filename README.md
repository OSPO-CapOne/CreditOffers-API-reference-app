# Credit Offers API Reference Application Code

Credit Offers is a card acquisition service that provides prequalified credit offer listings based on end customer provided information. Affiliates are able to provide these offers directly without need of a web redirect.  If a prequalified offer is not available, a default offer is returned by us.

## Software Requirements Including version
This is version 1.0 of the Credit Offers API Reference Application Code. For software requirements, see Build/Install Instructions below.

This reference app illustrates the use of the Credit Offers API to collect customer information and retrieve a list of targeted product offers for display. If you encounter any issues using this reference code, please submit them in the form of GitHub issues.

## Build/Install Instructions
### Dependencies
* [Node.js](https://nodejs.org) 4.X or higher

All other dependencies are loaded with [npm](https://www.npmjs.com/). All dependencies are cross-platform. Notable dependencies are listed below.
* [express](http://expressjs.com/) - Minimalist web framework for Node.js

### config.js
config.js contains information specific to your app, such as your client_id and client_secret. Create this file by copying [config.js.sample](/credit-offers/config.js.sample). Be careful not to put config.js into version control.

### Start the app
From the project root:  
`cd credit-offers`  
`npm install`  
`npm start`

### Try it out

Navigate to http://localhost:3000.  You will see a simple page with a button to launch a customer info modal.  Enter some fake customer data (at least the minimum required fields) and submit the form.  

This will submit a request to the Credit Offers endpoint and redirect the user to a page displaying the offers.

### Viewing more details

To get a deeper look at the messages being passed, start the app with the following command `DEBUG=credit-offers:* NODE_DEBUG=request npm start`.  This will activate detailed debug logging to the console, showing the details of the request to the API and the response received.

## Best Practices
This application makes use of the [helmet](https://www.npmjs.com/package/helmet) library for safer http headers, and the [csurf](https://www.npmjs.com/package/csurf) library to avoid cross-site request forgery attacks. However, when developing and hosting a real world application, make sure to be aware of the [security](http://expressjs.com/en/advanced/best-practice-security.html) and [performance](http://expressjs.com/en/advanced/best-practice-performance.html) best practices for the Express framework. In particular, hosting with TLS is strongly recommended and free certificates can be acquired at https://letsencrypt.org/.

## Architecture
This is a [Node.js](https://nodejs.org) 4.x and higher app built with [Express](http://expressjs.com/) 4.13.1.  Because of the simple nature, there is no session management or data persistence.

The Node.js https library is verbose and repetitive for our narrow use case, so we also used [request](https://github.com/request/request) for calls to the Credit Offers API.

The application structure follows the pattern generated by the [Express application generator](http://expressjs.com/en/starter/generator.html).

## Roadmap
This reference app code is intended as a starting place for developers who want to use the Credit Offers API. As such, it will be updated with new functionality only when the Credit Offers API is updated with new functionality.

## Contribution Guidelines
We encourage any contributions that align with the intent of this project and add more functionality or languages that other developers can make use of. To contribute to the project, please submit a PR for our review. Before contributing any source code, familiarize yourself with the Apache License 2.0 (license.md), which controls the licensing for this project.
